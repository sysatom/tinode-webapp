{"version":3,"file":"src_views_password-reset-view_jsx.dev.js","mappings":"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","sources":["webpack://tinode-webapp/./src/views/password-reset-view.jsx","webpack://tinode-webapp/./src/widgets/phone-edit.jsx"],"sourcesContent":["// A password reset form.\nimport React from 'react';\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl';\n\nimport PhoneEdit from '../widgets/phone-edit.jsx';\nimport VisiblePassword from '../widgets/visible-password.jsx';\n\nimport HashNavigation from '../lib/navigation.js';\n\nconst messages = defineMessages({\n  password_reset_email_sent: {\n    id: 'password_reset_email_sent',\n    defaultMessage: 'An email with security code has been sent.',\n    description: 'Notification that the email with password reset instructions has been sent'\n  },\n  password_reset_sms_sent: {\n    id: 'password_reset_sms_sent',\n    defaultMessage: 'A text message with security code has been sent.',\n    description: 'Notification that the SMS with password reset instructions has been sent'\n  }\n});\n\nclass PasswordResetView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      tel: '',\n      email: '',\n      password: '',\n      sent: false,\n      haveCode: false,\n      code: ''\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleCodeChange = this.handleCodeChange.bind(this);\n    this.handleShowCodeField = this.handleShowCodeField.bind(this);\n\n    // Connection will trigger change by changing the this.props.serverVersion.\n    props.tinode.connect()\n      .catch(err => {\n        this.props.onError(err.message, 'err');\n      });\n  }\n\n  componentDidMount() {\n    const parsed = HashNavigation.parseUrlHash(window.location.hash);\n    this.setState({token: parsed.params.token, scheme: parsed.params.scheme});\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    if (this.state.token) {\n      // Reset using token.\n      this.props.onReset(this.state.password.trim(), {\n        scheme: 'token',\n        token: this.state.token\n      });\n    } else if (this.state.code && this.props.reqCredMethod) {\n      // Reset using security code.\n      // The secret is structured as <code>:<cred_method>:<cred_value>, \"123456:email:alice@example.com\".\n      const cred = this.state.email.trim() || this.state.tel.trim();\n      this.props.onReset(this.state.password.trim(), {\n        scheme: 'code',\n        secret: btoa(`${this.state.code}:${this.props.reqCredMethod}:${cred}`)\n      });\n    } else {\n      // Send email or SMS with the secret code.\n      const email = this.state.email.trim();\n      const tel = this.state.tel.trim();\n      this.setState({email: email, tel: tel});\n      this.props.onRequest(this.props.reqCredMethod, email || tel)\n        .then(_ => {\n          this.setState({sent: true});\n          const msg = this.props.reqCredMethod == 'email' ? messages.password_reset_email_sent :\n            this.props.reqCredMethod == 'tel' ? messages.password_reset_sms_sent : null;\n          if (msg) {\n            this.props.onError(this.props.intl.formatMessage(msg), 'info');\n          }\n        });\n    }\n  }\n\n  handleEmailChange(e) {\n    this.setState({email: e.target.value});\n  }\n\n  handlePasswordChange(e) {\n    this.setState({password: e.target.value});\n  }\n\n  handleCodeChange(e) {\n    this.setState({code: e.target.value.replace(/[^\\d]/g, '')});\n  }\n\n  handleShowCodeField(e) {\n    e.preventDefault();\n    this.setState({haveCode: true});\n  }\n\n  render() {\n    const showCredentialInput = !(this.state.token && this.state.scheme);\n    const showPasswordInput = !showCredentialInput || this.state.haveCode || this.state.sent;\n\n    const passwordInput = (<>\n        <label className=\"small gray\" htmlFor=\"new-password\">\n          <FormattedMessage id=\"label_new_password\"\n            defaultMessage=\"New password\"\n            description=\"Label for entering a new password\" />\n        </label>\n        <FormattedMessage id=\"new_password_placeholder\" defaultMessage=\"Enter new password\"\n          description=\"Placeholder for entering new password\">{\n          (placeholder) => <VisiblePassword\n            id=\"new-password\"\n            placeholder={placeholder}\n            autoComplete=\"new-password\"\n            value={this.state.password}\n            required={true} autoFocus={true}\n            onChange={this.handlePasswordChange} />\n        }</FormattedMessage>\n      </>);\n\n    const emailInput = (<>\n        {this.state.haveCode ?\n          null :\n          <label htmlFor=\"inputEmail\">\n            <FormattedMessage id=\"label_reset_password\"\n              defaultMessage=\"Send a password reset email\"\n              description=\"Label for password reset field\" />\n          </label>\n        }\n        <FormattedMessage id=\"credential_email_prompt\" defaultMessage=\"Your registration email\"\n          description=\"Placeholder for entering email\">{\n          (placeholder) => <input type=\"email\" id=\"inputEmail\"\n            placeholder={placeholder}\n            autoComplete=\"email\"\n            value={this.state.email}\n            onChange={this.handleEmailChange}\n            required autoFocus />\n        }</FormattedMessage>\n      </>);\n\n    const phoneInput = (<>\n        {this.state.haveCode ?\n          null :\n          <div><label>\n            <FormattedMessage id=\"label_reset_password_tel\"\n              defaultMessage=\"Send SMS to reset password\"\n              description=\"Label for password reset field by phone\" />\n          </label></div>\n        }\n        <div>\n          <label className=\"small gray\">\n            <FormattedMessage id=\"mobile_phone_number\" defaultMessage=\"Mobile phone number\"\n              description=\"Prompt for entering a mobile phone number\" />\n          </label>\n        </div>\n        <div className=\"panel-form-row\">\n          <PhoneEdit\n            autoFocus={true}\n            onShowCountrySelector={this.props.onShowCountrySelector}\n            onSubmit={number => this.setState({tel: number})} />\n        </div>\n      </>);\n\n    const codeInput = (<>\n        <div>\n          <label className=\"small gray\" htmlFor=\"enter-confirmation-code\">\n            <FormattedMessage id=\"enter_confirmation_code_prompt\"\n              defaultMessage=\"Confirmation code\"\n              description=\"Request to enter confirmation code\" />\n          </label>\n        </div>\n        <div>\n          <FormattedMessage id=\"numeric_confirmation_code_prompt\"\n            defaultMessage=\"Numbers only\" description=\"Prompt for numeric conformation code\">{\n            (numbers_only) => <input type=\"text\" id=\"enter-confirmation-code\"\n              placeholder={numbers_only} maxLength={10}\n              value={this.state.code} onChange={this.handleCodeChange} required />\n          }</FormattedMessage>\n        </div>\n      </>);\n\n    const credentialInput = this.props.reqCredMethod == 'email' ?\n      emailInput : this.props.reqCredMethod == 'tel' ? phoneInput : null;\n\n    return (\n      <form id=\"password-reset-form\" onSubmit={this.handleSubmit}>\n        {!this.state.sent && showCredentialInput ? credentialInput : null}\n        {this.state.haveCode || this.state.sent ? codeInput : null}\n        {showPasswordInput ? passwordInput : null}\n        <div className=\"dialog-buttons\">\n          {this.state.haveCode || this.state.sent ? null :\n            <a href=\"#\" onClick={this.handleShowCodeField} style={{marginRight: 'auto'}}>\n              <FormattedMessage id=\"password_i_have_code\" defaultMessage=\"I have code\"\n                description=\"Call to open field to enter password reset code\" />\n            </a>\n          }\n          <button className=\"primary\" type=\"submit\">{\n            showPasswordInput ?\n              <FormattedMessage id=\"button_reset\" defaultMessage=\"Reset\" description=\"Button [Reset]\" />\n            :\n              <FormattedMessage id=\"button_send_request\" defaultMessage=\"Send request\"\n                description=\"Button [Send request]\" />\n          }</button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default injectIntl(PasswordResetView);\n","// Editor for a phone number.\n\nimport React from 'react';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { AsYouType, getExampleNumber, parsePhoneNumber } from 'libphonenumber-js/mobile';\nimport examples from 'libphonenumber-js/mobile/examples'\n\nimport * as dcodes from '../dcodes.json';\nimport { flagEmoji } from '../lib/strformat';\n\nconst messages = defineMessages({\n  mobile_number_required: {\n    id: 'mobile_number_required',\n    defaultMessage: 'Mobile phone number required',\n    description: 'Error message'\n  }\n});\n\nclass PhoneEdit extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.codeMap = {};\n    dcodes.default.forEach(dc => { this.codeMap[dc.code] = dc.dial; });\n\n    const code = props.countryCode || 'US';\n    const dial = this.codeMap[code];\n\n    this.state = {\n      countryCode: code,\n      dialCode: dial,\n      localNumber: '',\n      placeholderNumber: this.placeholderNumber(code, dial)\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleFinished = this.handleFinished.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.showCountrySelector = this.showCountrySelector.bind(this);\n  }\n\n  handleChange(e) {\n    const prefix = `+${this.state.dialCode}`;\n    let formatted = new AsYouType().input(`${prefix}${this.filterNumber(e.target.value)}`);\n    formatted = formatted.substring(prefix.length).trim();\n    this.setState({localNumber: formatted});\n  }\n\n  handleFinished(e) {\n    e.preventDefault();\n    const raw = `${this.state.dialCode}${this.state.localNumber.trim()}`.replace(/[^\\d]/g, '');\n    let number = null;\n    try {\n      number = parsePhoneNumber(`+${raw}`);\n    } catch (err) {}\n\n    if (!number || !number.isValid()) {\n      this.inputField.setCustomValidity(this.props.intl.formatMessage(messages.mobile_number_required));\n      return;\n    }\n\n    this.inputField.setCustomValidity('');\n    this.props.onSubmit(number.format('E.164'));\n  }\n\n\n  handleKeyDown(e) {\n    if (e.key === 'Enter') {\n      this.handleFinished(e);\n    }\n  }\n\n  showCountrySelector() {\n    this.props.onShowCountrySelector(this.state.countryCode, this.state.dialCode,\n      (code, dial) => {\n          this.setState({\n            countryCode: code,\n            dialCode: dial,\n            placeholderNumber: this.placeholderNumber(code, dial)\n        })\n      });\n  }\n\n  // Filter out characters not permitted in a phone number.\n  filterNumber(number) {\n    if (!number) {\n      return number;\n    }\n    // Leave numbers, space, (, ), -, and .\n    // The + is not allowed: it's handled by the country code portion.\n    return number.replace(/[^-\\s().\\d]/g, '');\n  }\n\n  placeholderNumber(code, dial) {\n    const sample = getExampleNumber(code, examples);\n    return sample ? sample.formatInternational().substring(dial.length + 1).trim() : '123 0123';\n  }\n\n  render() {\n    return (\n      <>\n        <span className=\"dial-code\" onClick={this.showCountrySelector}>\n          <span className=\"country-flag\">{flagEmoji(this.state.countryCode)}&nbsp;</span>\n          +{this.state.dialCode}&nbsp;</span>\n        <input type=\"tel\" ref={ref => {this.inputField = ref}} placeholder={this.state.placeholderNumber}\n            value={this.state.localNumber} onChange={this.handleChange}\n            maxLength={17} onKeyDown={this.handleKeyDown} onBlur={this.handleFinished}\n            required autoFocus={this.props.autoFocus} />\n      </>\n    );\n  }\n}\n\nexport default injectIntl(PhoneEdit);\n"],"names":["React","FormattedMessage","defineMessages","injectIntl","PhoneEdit","VisiblePassword","HashNavigation","messages","password_reset_email_sent","id","defaultMessage","password_reset_sms_sent","PasswordResetView","PureComponent","constructor","props","state","tel","email","password","sent","haveCode","code","handleSubmit","bind","handleEmailChange","handlePasswordChange","handleCodeChange","handleShowCodeField","tinode","connect","catch","err","onError","message","componentDidMount","parsed","parseUrlHash","window","location","hash","setState","token","params","scheme","e","preventDefault","onReset","trim","reqCredMethod","cred","secret","btoa","onRequest","then","_","msg","intl","formatMessage","target","value","replace","render","showCredentialInput","showPasswordInput","passwordInput","createElement","Fragment","className","htmlFor","placeholder","autoComplete","required","autoFocus","onChange","emailInput","type","phoneInput","onShowCountrySelector","onSubmit","number","codeInput","numbers_only","maxLength","credentialInput","href","onClick","style","marginRight","AsYouType","getExampleNumber","parsePhoneNumber","examples","dcodes","flagEmoji","mobile_number_required","codeMap","default","forEach","dc","dial","countryCode","dialCode","localNumber","placeholderNumber","handleChange","handleFinished","handleKeyDown","showCountrySelector","prefix","formatted","input","filterNumber","substring","length","raw","isValid","inputField","setCustomValidity","format","key","sample","formatInternational","ref","onKeyDown","onBlur"],"sourceRoot":""}